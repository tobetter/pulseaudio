diff -Nur -x '*.orig' -x '*~' pulseaudio-0.9.8/src/daemon/caps.c pulseaudio-0.9.8.new/src/daemon/caps.c
--- pulseaudio-0.9.8/src/daemon/caps.c	2007-11-16 18:44:48.000000000 -0500
+++ pulseaudio-0.9.8.new/src/daemon/caps.c	2008-01-23 20:10:50.000000000 -0500
@@ -63,13 +63,16 @@
     pa_log_info("Dropping root priviliges.");
 
 #if defined(HAVE_SETRESUID)
-    setresuid(uid, uid, uid);
+    pa_assert_se(setresuid(uid, uid, uid) >= 0);
 #elif defined(HAVE_SETREUID)
-    setreuid(uid, uid);
+    pa_assert_se(setreuid(uid, uid) >= 0);
 #else
-    setuid(uid);
-    seteuid(uid);
+    pa_assert_se(setuid(uid) >= 0);
+    pa_assert_se(seteuid(uid) >= 0);
 #endif
+
+    pa_assert_se(getuid() == uid);
+    pa_assert_se(geteuid() == uid);
 }
 
 #else
@@ -147,4 +150,3 @@
 }
 
 #endif
-
